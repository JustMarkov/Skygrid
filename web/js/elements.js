window.onload = function(event) {		let cube_container = document.getElementById("cube_container");	createBlockInfo(cube_container);	}function createBlockInfo(parent) {		let blockinfo = document.createElement("div");	let blocks = document.createElement("div");		blockinfo.className = "blockinfo";	blocks.className = "blocks";		blockinfo.addNew = function(y) {		if(y == null) y = 0;				for(let collection of blockinfo.children) if(collection.className == "collection c" + y) {					let cube = createCube(collection);			cube.style.setProperty("--col", -y);						return cube;				}						}		blockinfo.generate = function() {				let json = {};				for(let child of blockinfo.children) if(child.className.includes("collection c")) {					let key = "at[" + child.className.replace("collection c", "") + "]";			let blocks = [];						for(let block of child.children) if(block.className.includes("cube_parent")) {								let b = {};				b.weight = 1.0;				if(block.firstChild.block.includes(":"))					b.block = block.firstChild.block;				else					b.ore = block.firstChild.block;								blocks.push(b);			}						if(blocks.length != 0)				json[key] = blocks;				}				return json;		}		createColumn(blockinfo);	parent.appendChild(blockinfo);		blockinfo.addNew(0).set("minecraft:dirt");	blockinfo.addNew(0).set("minecraft:grass");	blockinfo.addNew(0).set("minecraft:stone");	blockinfo.addNew(0).set("minecraft:cobblestone");	blockinfo.addNew(1).set("minecraft:tallgrass");	blockinfo.addNew(1).set("minecraft:red_flower");	blockinfo.addNew(1).set("minecraft:yellow_flower");		console.log(JSON.stringify(blockinfo.generate()));}function createColumn(parent) {		let column = document.createElement("div");		for(let y = -1; y <= 2; y++) {				let add_button = document.createElement("div");				add_button.className = "add_button";			add_button.onclick = function(event) {			event.target.parentNode.parentNode.addNew(y).set("minecraft:stone");		}						let collection = document.createElement("div");				collection.onmousemove = function(event) {						if(event.buttons == 1) {			console.log(event);				let y = parseInt(window.getComputedStyle(event.target).getPropertyValue("--col")) * -1;				let c = document.getElementsByClassName("c" + y)[0];				let shift = c.style.getPropertyValue("--shift");				shift -= 0.008 * event.movementX;								if(!isNaN(shift)) {					c.style.setProperty("--shift", shift);				}			}		}				collection.style.setProperty("--col", -y);		collection.className = "collection c" + y;		collection.appendChild(add_button);			parent.appendChild(collection);			}		column.className = "cube_col";	}function createCube(parent) {		let cube_parent = document.createElement("div");	cube_parent.className = "cube_parent";		let cube = document.createElement("div");	cube.className = "cube";		cube.reload = function() {		if(!cube.tick) cube.tick = 0;				for(let child of cube.children) {			let side = child.className.split(" ")[1];			let b = BLOCK(cube.block, cube.tick);			let img;			if(b != null) img = b[side];			if(img != null)				child.style.backgroundImage = "url(\"img/assets/minecraft/textures/block/" + img + ".png\")";			child.style.display = (img == null) ? "none" : "block";		}				cube.tick++;	}		let r = function(cube) {		cube.reload();		window.setTimeout(r, 1000, cube);	}	r(cube);		let sides = ["up", "down", "left", "right", "front", "back", "cross cross0", "cross cross1"];	for(side of sides) {				let s = document.createElement("div");		s.className = "side " + side;				cube.appendChild(s);			}		cube_parent.set = function(block) {		cube_parent.firstChild.block = block;				if(block != null)			for(let child of cube_parent.firstChild.children) {				cube.reload();			}					cube_parent.style.display = (block == null) ? "none" : "block";	}	cube_parent.onmousedown = function(event) {		if(event.target.className.includes("side")) {						let index = -1;			for(let c of event.target.parentNode.parentNode.parentNode.children) {				if(c == event.target.parentNode.parentNode)					break;				index++;			}						//event.target.parentNode.parentNode.parentNode.style.setProperty("--shift", index);					}	}		cube_parent.appendChild(cube);	parent.appendChild(cube_parent);		return cube_parent;		}